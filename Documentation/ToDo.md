# 2D 플랫포머 이동 시스템 작업 목록

## 벽 관련 이동 기능

### 벽 매달리기 (Wall Hang)
- [ ] 벽 감지 시스템 구현
  - 좌우 벽 감지를 위한 Raycast 또는 Collider 기반 감지
  - 벽 감지 상태(`IsOnWall`) 프로퍼티 추가
- [ ] 벽 매달리기 상태 구현
  - 벽에 닿았을 때 자동으로 매달리기 상태 진입
  - 매달리기 중 중력 적용 중지 또는 감소
  - 매달리기 지속 시간 제한 (스태미나 또는 시간 기반)
- [ ] 매달리기 중 입력 처리
  - 위/아래 키 입력으로 벽을 따라 이동
  - 점프 키 입력으로 벽 점프 가능
  - 매달리기 해제 조건 (키 입력 또는 시간 초과)

### 벽 점프 (Wall Jump)
- [ ] 벽 점프 입력 감지
  - 벽에 매달린 상태에서 점프 키 입력 감지
  - 벽 점프 방향 결정 (벽에서 멀어지는 방향)
- [ ] 벽 점프 물리 구현
  - 벽에서 멀어지는 수평 속도 적용
  - 수직 점프 속도 적용
  - 벽 점프 후 일시적으로 벽 감지 무시
- [ ] 벽 점프 제한 설정
  - 벽 점프 횟수 제한 (기본값: 1회, 기능 해금 시 증가 가능)
  - 벽 점프 쿨타임 또는 스태미나 소모

### 벽 미끄러지기 (Wall Slide)
- [ ] 벽 미끄러지기 상태 구현
  - 벽에 닿고 아래 방향 입력 시 미끄러지기 상태 진입
  - 미끄러지기 중 낙하 속도 제한 (일정 속도로 감소)
  - 미끄러지기 중 중력 적용 조정
- [ ] 미끄러지기 중 입력 처리
  - 미끄러지기 중 점프 키로 벽 점프 가능
  - 미끄러지기 중 위 방향 입력으로 벽 오르기 가능 (난간 오르기와 연동)
- [ ] 미끄러지기 피드백
  - 미끄러지기 애니메이션
  - 미끄러지기 사운드 효과

## 난간 관련 이동 기능

### 난간 매달리기 (Ledge Hang)
- [ ] 난간 감지 시스템 구현
  - 플랫폼 가장자리 감지 (Raycast 기반)
  - 난간 위치 계산 및 매달리기 위치 결정
- [ ] 난간 매달리기 상태 구현
  - 난간에 도달 시 자동으로 매달리기 상태 진입
  - 매달리기 중 중력 적용 중지
  - 매달리기 위치로 플레이어 이동 및 고정
- [ ] 매달리기 중 입력 처리
  - 위 방향 키 입력으로 난간 오르기
  - 아래 방향 키 입력으로 매달리기 해제
  - 좌우 방향 키 입력으로 난간 이동 (선택 사항)

### 난간 오르기 (Ledge Climb)
- [ ] 난간 오르기 입력 감지
  - 난간에 매달린 상태에서 위 방향 키 입력 감지
- [ ] 난간 오르기 애니메이션 및 이동
  - 오르기 애니메이션 재생
  - 플랫폼 위로 이동하는 경로 계산
  - 오르기 완료 후 플랫폼 위 위치로 이동
- [ ] 난간 오르기 제한 설정
  - 오르기 시간 또는 스태미나 소모
  - 오르기 중 무적 시간 (선택 사항)

## 사다리 기능

### 사다리 감지 및 진입
- [ ] 사다리 감지 시스템 구현
  - 사다리 오브젝트 감지 (Trigger Collider 기반)
  - 사다리 진입 영역 감지
- [ ] 사다리 진입 처리
  - 사다리 영역 진입 시 자동으로 사다리 모드 진입
  - 사다리 모드 진입 시 중력 적용 중지
  - 사다리 모드 진입 시 수평 이동 제한 (선택 사항)

### 사다리 이동
- [ ] 사다리 위/아래 이동
  - 위/아래 방향 키 입력으로 사다리 이동
  - 사다리 이동 속도 설정
  - 사다리 끝에 도달 시 자동으로 사다리 모드 해제
- [ ] 사다리 중 점프 처리
  - 사다리 중 점프 키 입력 시 사다리 모드 해제 및 점프
  - 사다리에서 점프 시 수평 이동 가능
- [ ] 사다리 중 좌우 이동 (선택 사항)
  - 사다리 중 좌우 키 입력으로 사다리에서 이탈
  - 이탈 시 사다리 모드 해제 및 일반 이동 모드로 전환

## 공통 구현 사항

### 상태 관리
- [ ] 이동 상태 머신 확장
  - 기존 이동 상태에 벽 매달리기, 난간 매달리기, 사다리 모드 추가

### 물리 설정
- [ ] 각 상태별 Rigidbody2D 설정
  - 벽 매달리기: 중력 스케일 0 또는 감소
  - 난간 매달리기: 중력 스케일 0
  - 사다리 모드: 중력 스케일 0, 수평 이동 제한

### 입력 처리
- [ ] PlayerController에 새로운 입력 처리 추가
  - 벽 점프 입력 감지
  - 난간 오르기 입력 감지
  - 사다리 이동 입력 처리

### PlayerPhysics API 확장
- [ ] 벽 관련 API
  - `bool IsOnWall { get; }` - 벽 감지 상태
  - `bool IsWallSliding { get; }` - 벽 미끄러지기 상태
  - `void RequestWallJump()` - 벽 점프 요청
- [ ] 난간 관련 API
  - `bool IsLedgeHanging { get; }` - 난간 매달리기 상태
  - `void RequestLedgeClimb()` - 난간 오르기 요청
- [ ] 사다리 관련 API
  - `bool IsOnLadder { get; }` - 사다리 모드 상태
  - `void EnterLadderMode()` - 사다리 모드 진입
  - `void ExitLadderMode()` - 사다리 모드 해제
  - `void ApplyLadderMovement(float verticalInput)` - 사다리 이동 적용

### 디버깅 도구
- [ ] 벽 감지 시각화
  - 벽 감지 Raycast 시각화 (에디터 전용)
- [ ] 난간 감지 시각화
  - 난간 감지 영역 시각화 (에디터 전용)
- [ ] 사다리 영역 시각화
  - 사다리 Trigger 영역 시각화 (에디터 전용)

## 참고 사항

- 기존 이동 시스템과의 통합 고려
  - [PlayerMovement-Design.md](./PlayerMovement-Design.md) 참조
  - [PlayerMovement-Implementation.md](./PlayerMovement-Implementation.md) 참조
  - [PlayerMovement-Architecture.md](./PlayerMovement-Architecture.md) 참조
- 각 기능은 독립적으로 구현 가능하나, 상태 관리 시스템 통합 필요
- 기능 해금 시스템과 연동 가능하도록 설계 (벽 점프 횟수, 난간 오르기 스태미나 등)

